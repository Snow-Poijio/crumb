# 🍞 crumb

今日やることを、ざっと並べて、砕いて、消していくだけのタスク管理TUI。
`/` で自然言語を打てば、タスクの追加も分解も整理も全部やってくれる。

## 前提

- Node.js 20+
- [Claude Code](https://docs.anthropic.com/en/docs/claude-code) がインストール済みで、サブスクリプションが有効であること（AI機能に必要）

## インストール

```bash
npm install          # 依存パッケージをインストール
npm run build        # ビルド
npm install -g .     # `crumb` コマンドをグローバルに登録
```

## 使い方

### CLI

```bash
crumb                        # TUI を起動
crumb "タスク名"              # タスクを追加
crumb "A" "B" "C"            # 複数タスクを一括追加
crumb list                   # 一覧表示
crumb done <id>              # タスクを完了にする
crumb clear                  # 全タスク削除（確認あり）
```

### TUI

```
🍞 crumb                          ██░░░░░░ 2/6

▼ 本番リリース準備               [2/4]
│  ├── ● デプロイスクリプト確認
│  ├── ○ ステージング検証
│  ├── ○ ロールバック手順書作成
│  └── ○ チームへの連絡
▶ API改修                        [0/3]
○ 牛乳を買う

/:AI · ?:ヘルプ
```

## キーバインド

| キー | 操作 |
|------|------|
| `j` / `k` / `↑` / `↓` | カーソル移動 |
| `g` / `G` | 先頭 / 末尾にジャンプ |
| `Tab` | 次のルートグループへ |
| `a` | タスク追加 |
| `A` | 子タスク追加（選択中の下に） |
| `e` | タスク名を編集 |
| `d` | 完了 / 未完了を切り替え |
| `x` | 削除 |
| `X` | 全タスク削除（確認あり） |
| `J` / `K` | タスクを上下に並び替え |
| `<` / `>` | 階層を上げる / 下げる |
| `u` | 元に戻す（複数回可） |
| `Space` | 折りたたみ / 展開 |
| `/` | AI入力を開く |
| `?` | ヘルプを表示 |
| `q` | 終了 |

## AI

`/` で自然言語を入力するだけ。

```
> リリース準備を細かく砕いて
> ステージング系まとめて
> API改修の下にテスト作成追加
> 終わったの全部消して
```

プレビューが出るので、`Enter` で適用・`Esc` でキャンセル・`e` で修正指示。
音声入力の文字起こしでも、誤変換や話し言葉をよしなに解釈する。

## 技術スタック

TypeScript / Ink (React) / SQLite (`better-sqlite3`) / `@anthropic-ai/claude-agent-sdk` / tsup

## データ

`~/.crumb/crumb.db` に保存。

## ライセンス

MIT
